(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{87314:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(13951)}])},74228:function(e,t,n){"use strict";n.d(t,{D:function(){return a}});var i=n(18505),r=n(5046);let a=(0,r.v)(i.F.IsKeplrIdRegistered,{})},58527:function(e,t,n){"use strict";n.d(t,{t:function(){return a}});var i=n(18505),r=n(5046);let a=(0,r.v)(i.F.RecentMessageTime,{})},64253:function(e,t,n){"use strict";n.d(t,{q:function(){return c},t:function(){return u}});var i=n(58943),r=n(47062),a=n(26071),l=n(89644),s=n.n(l),o=n(82791),d=n(52240);let c=e=>{var t;let{cosmosHubPubKey:n,limit:i=10,offset:r=0,chainIds:a,preventAdr36FirstCall:l,recentMessageTime:s}=e,{data:o,isLoading:c,fetchNextPage:u,isFetchingNextPage:h}=(0,d.d)({cosmosHubPubKey:n,chainIds:a,limit:i,offset:r,messageType:"announcement",preventAdr36FirstCall:l}),f=null==s?void 0:null===(t=s[n||""])||void 0===t?void 0:t.announcement,[v,x]=(()=>{if(!o)return[[],[]];let e=o.pages.flatMap(e=>e.list);if(!f)return[[...e.map(e=>({...e,isNew:!0}))],[]];let t=[],n=[];for(let i of e||[]){let e=i.created_at;e>f?t.push({...i,isNew:!0}):n.push(i)}return[t,n]})();return{totalCount:(null==o?void 0:o.pages[0].total_count)||0,newerArr:v,isLoading:c,list:[...v,...x],isFetchingNextPage:h,fetchNextPage:u}},u=e=>{let{messageList:t}=e,n=new Map;t.forEach(e=>{n.has(e.chain_id)?n.set(e.chain_id,n.get(e.chain_id).add(e.sender)):n.set(e.chain_id,new Set([e.sender]))});let{data:l}=(0,i.a)(["useGetValidatorInfos",t],async()=>{let e={chainInfoObj:{},validatorInfoObj:{}};for(let[i,a]of n){let n=o.vo.find(e=>e.chainId===i);e.chainInfoObj[i]={name:null==n?void 0:n.chainName,imageUrl:null==n?void 0:n.chainSymbolImageUrl};let{getValidator:l,getValidators:d}=(0,r.fto)(null==n?void 0:n.rest);if(a.size>1){let t=[],n=(await d({pagination:{limit:1e3}})).validators.filter(e=>{let{identity:n,moniker:i}=e.description,{operator_address:r}=e,l=a.has(r);return l&&t.push({address:r,moniker:i,identity:n}),l}),i=(await s().get("/api/validator_thumbnails?ids=".concat(n.filter(e=>""!==e.description.identity).map(e=>e.description.identity).join(",")))).data;t.forEach(t=>{let{address:n,moniker:r,identity:a}=t;e.validatorInfoObj={...e.validatorInfoObj,[n]:{name:r,imageUrl:null==i?void 0:i[a||""]}}})}else for(let n of a){var t;let i=await l({validatorAddress:n}),r=await s().get("/api/validator_thumbnails?ids=".concat(i.validator.description.identity));e.validatorInfoObj={...e.validatorInfoObj,[i.validator.operator_address]:{name:i.validator.description.moniker,imageUrl:(null===(t=r.data)||void 0===t?void 0:t[i.validator.description.identity])||""}}}}return e},{enabled:!!t,onError:e=>{(0,a.h3)({error:e,level:"warning"})}});return{data:l}}},52240:function(e,t,n){"use strict";n.d(t,{d:function(){return v}});var i=n(58586),r=n(47062),a=n(26071),l=n(752),s=n(74228),o=n(79189),d=n(82791),c=n(18505),u=n(47126),h=n(96545);let f="getMessageList",v=e=>{var t,n,v,x,p;let{limit:b=10,offset:g=0,chainIds:m,cosmosHubPubKey:y,messageType:w,preventAdr36FirstCall:j}=e,I=(0,o.rv)(d.vI.CosmosHub),k=(0,o.rv)(d.vI.CosmosHub),N=null===(t=(0,l.Dv)(s.D))||void 0===t?void 0:t[y||""],[S,A]=(0,h.L)(),P=!(null==S?void 0:null===(n=S[y])||void 0===n?void 0:n[f])&&j,{data:T,..._}=(0,i.N)([f,g,b,m,w,S,N],async e=>{var t;let{pageParam:n=g}=e,{salt:i,signature:l}=await (async()=>{var e,t,n;let i=null==S?void 0:null===(e=S[y])||void 0===e?void 0:e[f];if(null==i?void 0:i.signature)return{salt:i.salt,signature:i.signature};let{salt:r,signature:l}=await (0,a.yx)({authForType:"message",chainId:null===(t=k.accountInfo)||void 0===t?void 0:t.chainInfo.chainId,address:null===(n=k.accountInfo)||void 0===n?void 0:n.bech32Address,signMsg:{type:"announcementList"},signType:"getAnnouncementList"});return l&&A({[y]:{...null==S?void 0:S[y],[f]:{salt:r,signature:l}}}),{salt:r,signature:l}})();return await (0,r.Yoy)({cosmosHubPubKey:y,body:{offset:n,limit:b,chainIds:m,salt:i,signature:{...l,signerAddrPrefix:null===(t=k.chainInfo)||void 0===t?void 0:t.bech32Config.bech32PrefixAccAddr},messageType:w}})},{refetchOnMount:"always",enabled:!!(null===(v=I.accountInfo)||void 0===v?void 0:v.bech32Address)&&!!(null===(x=k.accountInfo)||void 0===x?void 0:x.chainInfo)&&!!(null===(p=k.chainInfo)||void 0===p?void 0:p.bech32Config)&&!!y&&!!N&&!!S&&!P,onError:e=>{var t;let n=(0,u.rV)(c.F.SignatureAndSalt);null===(t=n[y])||void 0===t||delete t[f],(0,u.LS)(c.F.SignatureAndSalt,n),(0,a.h3)({error:e,level:"warning"})},getNextPageParam:(e,t)=>{if(t.length<=e.total_count/b)return t.length*b}});return{data:T,..._}}},96545:function(e,t,n){"use strict";n.d(t,{L:function(){return d}});var i=n(2784),r=n(752),a=n(65058);let l=(0,a.cn)(null);var s=n(18505),o=n(47126);let d=()=>{let[e,t]=(0,r.KO)(l);return(0,i.useEffect)(()=>{let e=(0,o.rV)(s.F.SignatureAndSalt);e?t((0,o.rV)(s.F.SignatureAndSalt)):t({})},[t]),[e,e=>{localStorage&&((0,o.LS)(s.F.SignatureAndSalt,e),t(e))}]}},94402:function(e,t,n){"use strict";n.d(t,{Co:function(){return h},E4:function(){return v},Z_:function(){return f}});var i=n(2784),r=n(78196),a=n(47062);n(61657);var l=n(26071),s=n(752),o=n(74228),d=n(79189);n(341);var c=n(82791),u=n(48834).Buffer;let h=function(){let{onError:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.Ak)(),n=t.filter(e=>e.chainInfo.chainId===c.vI.CosmosHub)[0],r=n.hexPubKey,[u,h]=(0,s.KO)(o.D),f=(0,i.useMemo)(()=>(()=>{let e=new Set,n=[];for(let i of t){let t=i.chainInfo.bip44.coinType;!e.has(t)&&i.hexPubKey&&(e.add(t),n.push({coinType:t,pubkey:i.hexPubKey}))}return n})().sort((e,t)=>e.coinType-t.coinType),[t]);return(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,a.Il8)({cosmosHubPubKey:r,body:{pubkeyList:f}});(null==e?void 0:e.exists)&&r&&h({[r]:!0})}catch(t){if(e){e(t);return}(0,l.h3)({level:"warning",error:t})}})()},[r,f,h,e]),{isKeplrIdRegistered:u}},f=function(){let{onError:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.Ak)(),n=t.filter(e=>e.chainInfo.chainId===c.vI.CosmosHub)[0],r=n.hexPubKey,[u,h]=(0,s.KO)(o.D),f=(0,i.useMemo)(()=>(()=>{let e=new Set,n=[];for(let i of t){let t=i.chainInfo.bip44.coinType;!e.has(t)&&i.hexPubKey&&(e.add(t),n.push({coinType:t,pubkey:i.hexPubKey}))}return n})().sort((e,t)=>e.coinType-t.coinType),[t]);return(0,i.useEffect)(()=>{(async()=>{try{let e=await (0,a.Il8)({cosmosHubPubKey:r,body:{pubkeyList:f}});if(!(null==e?void 0:e.exists)&&r){let e=await p({cosmosChain:n,cosmosHubPubKey:r,pubkeyList:f});(null==e?void 0:e.result)&&h({[r]:!0})}if((null==e?void 0:e.exists)&&(null==e?void 0:e.isUpdateNeeded)&&r){let e=await x({cosmosChain:n,cosmosHubPubKey:r,pubkeyList:f});(null==e?void 0:e.result)&&h({[r]:!0})}(null==e?void 0:e.exists)&&r&&h({[r]:!0})}catch(t){if(e){e(t);return}(0,l.h3)({level:"warning",error:t})}})()},[n,r,f,h,e]),{isKeplrIdRegistered:u}},v=function(){let{onError:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(0,d.Ak)(),n=t.filter(e=>e.chainInfo.chainId===c.vI.CosmosHub)[0],r=n.hexPubKey,u=(0,s.b9)(o.D),h=(0,i.useMemo)(()=>(()=>{let e=new Set,n=[];for(let i of t){let t=i.chainInfo.bip44.coinType;!e.has(t)&&i.hexPubKey&&(e.add(t),n.push({coinType:t,pubkey:i.hexPubKey}))}return n})().sort((e,t)=>e.coinType-t.coinType),[t]),f=async()=>{if(r)try{let e=await (0,a.Il8)({cosmosHubPubKey:r,body:{pubkeyList:h}});if(!(null==e?void 0:e.exists)&&r){let e=await p({cosmosChain:n,cosmosHubPubKey:r,pubkeyList:h});if(null==e?void 0:e.result)return u({[r]:!0}),e}if((null==e?void 0:e.exists)&&(null==e?void 0:e.isUpdateNeeded)&&r){let e=await x({cosmosChain:n,cosmosHubPubKey:r,pubkeyList:h});if(null==e?void 0:e.result)return u({[r]:!0}),e}if((null==e?void 0:e.exists)&&r)return u({[r]:!0}),{result:!0}}catch(t){if(e){e(t);return}(0,l.h3)({level:"warning",error:t});return}};return{checkKeplrIdWithRegisterAndUpdateWithLocalStorage:f}},x=async e=>{let{cosmosChain:t,cosmosHubPubKey:n,pubkeyList:i}=e,s=u.from(JSON.stringify(i)),{salt:o,signature:d}=await (0,l.yx)({chainId:t.chainInfo.chainId,address:t.bech32Address,authForType:"identification",signMsg:{PubkeyListHash:r.Hash.keccak256(s).toString("hex")},signType:"updateKeplr"});if(d)return await (0,a.FTU)({cosmosHubPubKey:n,body:{pubkeyList:i,salt:o,signature:{...d,signerAddrPrefix:t.chainInfo.bech32Config.bech32PrefixAccAddr}}})},p=async e=>{let{cosmosChain:t,cosmosHubPubKey:n,pubkeyList:i}=e;if(!t.bech32Address)return;let s=u.from(JSON.stringify(i)),{salt:o,signature:d}=await (0,l.yx)({chainId:t.chainInfo.chainId,address:t.bech32Address,authForType:"identification",signMsg:{PubkeyListHash:r.Hash.keccak256(s).toString("hex")},signType:"registerKeplr"});if(d)return await (0,a.w2l)({cosmosHubPubKey:n,body:{pubkeyList:i,salt:o,signature:{...d,signerAddrPrefix:t.chainInfo.bech32Config.bech32PrefixAccAddr}}})}},13951:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return Z}});var i=n(52322),r=n(25237),a=n.n(r),l=n(5632),s=n(92468),o=n(80144),d=n(19759),c=n(5140),u=n(2784),h=n(61657),f=n(96577),v=n.n(f),x=n(30077),p=()=>{let[e,t]=(0,u.useState)(!1),[n,r]=(0,u.useState)(!1),{isDarkMode:a}=(0,x.F)();(0,u.useEffect)(()=>{let e=navigator.userAgent;if(/android/i.test(e)){t(!0);return}if(/iphone/i.test(e)){r(!0);return}},[]);let s=e||n,{handleWalletConnect:o}=(0,c.Z)(),d=(0,l.useRouter)();return(0,i.jsx)("div",{className:"flex items-center justify-center h-full",children:(0,i.jsxs)("div",{className:"flex gap-[73px]",children:[(0,i.jsx)(v(),{src:"/common-images/keplr-connect-".concat(a?"dark":"light",".svg"),alt:"planet",width:220,height:153}),(0,i.jsxs)("div",{children:[(0,i.jsx)(h.ZT.FixedHeading03,{className:"typo-highlight",children:s?(0,i.jsxs)(i.Fragment,{children:["Start to navigate the chains",(0,i.jsx)("br",{}),"we are supporting"]}):(0,i.jsxs)(i.Fragment,{children:["Get started by ",(0,i.jsx)("br",{}),"connecting Keplr wallet"]})}),(0,i.jsxs)("div",{className:"mt-8 flex gap-4",children:[(0,i.jsx)(h.zx,{onClick:()=>{s?d.push("/chains").catch(e=>{if(!e.cancelled)throw e}):o()},color:"primary",size:"md",children:s?"Go to Chain List":"Connect Keplr"}),(0,i.jsx)("a",{href:"https://help.keplr.app/articles/advanced-troubleshooting-guidelines",target:"_blank",children:(0,i.jsxs)(h.zx,{color:"primary-outline",size:"md",className:"flex gap-2 items-center",children:[(0,i.jsx)(h.ZT.Button01,{children:"Need Help"}),(0,i.jsx)(h.vh,{className:"w-4 h-4"})]})})]})]})]})})},b=n(65511),g=n(72779),m=n.n(g),y=n(752),w=n(58527),j=n(79189),I=n(21590),k=n(43351),N=n(82791),S=n(64253);n(52240);var A=n(96545),P=n(94402),T=e=>{var t,n;let{}=e,r=(0,l.useRouter)(),a=r.query.tab,{width:s}=(0,b.iP)(),o=null===(t=(0,j.rv)(N.vI.CosmosHub).accountInfo)||void 0===t?void 0:t.hexPubKey,[c]=(0,A.L)(),u=!!o&&!!(null==c?void 0:null===(n=c[o])||void 0===n?void 0:n.getMessageList);(0,P.Co)();let f=(0,y.Dv)(w.t),{newerArr:v}=(0,S.q)({cosmosHubPubKey:o,preventAdr36FirstCall:!0,recentMessageTime:f}),x=e=>({pathname:"/",query:{tab:e}});return(0,i.jsxs)("div",{className:"relative flex flex-col w-full",children:[(0,i.jsx)(h.Y_,{icon:(0,i.jsx)(I.tv,{}),title:"Dashboard"}),(0,i.jsx)("hr",{className:"absolute block xl:hidden left-0 bottom-0 right-0 h-[1px] border-t border-primary"}),(0,i.jsx)("hr",{className:"absolute right-0 bottom-0 hidden xl:block h-[1px] border-t border-primary"}),(0,i.jsx)("div",{className:"relative tap-wrapper w-full md:p-5 md:!pl-4 lg:pl-8 pl-11",children:(0,i.jsxs)("div",{className:"flex flex-row min-w-[520px]",children:[(0,i.jsx)(k.Z,{href:x("overview"),text:"Overview",isSelected:"overview"===a||void 0===a}),(0,i.jsx)(k.Z,{href:x("staking"),text:"Staking",isSelected:"staking"===a}),!d.d&&(0,i.jsxs)("div",{className:"flex items-center",children:[!u&&(0,i.jsx)("div",{className:"w-[6px] h-[6px] mb-1 rounded-full bg-red-600"}),(0,i.jsx)(k.Z,{href:x("inbox"),text:"Inbox",isSelected:"inbox"===a,className:m()(v.length?"mr-0":"mr-8")})]}),!d.d&&!!v.length&&(0,i.jsx)("div",{className:"bg-blue-600 dark:bg-blue-200 px-2 py-1 rounded-[20px] flex justify-center items-center h-5 mr-8",children:(0,i.jsx)(h.ZT.FixedHeading07,{className:"text-white dark:text-black",children:v.length})}),(0,i.jsx)(k.Z,{href:x("active-proposals"),text:"Active Proposals",isSelected:"active-proposals"===a}),!d.d&&(0,i.jsx)(k.Z,{href:x("nfts"),text:"NFTs",isSelected:"nfts"===a}),!d.d&&(0,i.jsx)(k.Z,{href:x("transaction-history"),text:s&&s<=1024?"Transactions":"Transaction History",isSelected:"transaction-history"===a})]})})]})},_=n(57543);let F=a()(()=>n.e(185).then(n.bind(n,50185)),{loadableGenerated:{webpack:()=>[50185]},ssr:!1}),C=a()(()=>Promise.all([n.e(945),n.e(745)]).then(n.bind(n,31745)),{loadableGenerated:{webpack:()=>[31745]},ssr:!1}),K=a()(()=>Promise.all([n.e(177),n.e(667)]).then(n.bind(n,62667)),{loadableGenerated:{webpack:()=>[62667]},ssr:!1}),O=a()(()=>n.e(502).then(n.bind(n,91502)),{loadableGenerated:{webpack:()=>[91502]},ssr:!1}),H=a()(()=>n.e(233).then(n.bind(n,41233)),{loadableGenerated:{webpack:()=>[41233]},ssr:!1});var Z=()=>{var e;let t=(0,l.useRouter)(),n=null===(e=t.query)||void 0===e?void 0:e.tab,{isNeedToConnectWallet:r}=(0,c.Z)();return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.Z,{}),r?null:(0,i.jsx)(T,{}),(0,i.jsx)(o.Z,{children:r?(0,i.jsx)(p,{}):(0,i.jsxs)(i.Fragment,{children:[("overview"===n||void 0===n)&&(0,i.jsx)(_.Z,{}),"staking"===n&&(0,i.jsx)(C,{}),"inbox"===n&&(0,i.jsx)(H,{}),"nfts"===n&&(0,i.jsx)(F,{}),"active-proposals"===n&&(0,i.jsx)(O,{}),"transaction-history"===n&&!d.d&&(0,i.jsx)(K,{})]})})]})}}},function(e){e.O(0,[961,774,888,179],function(){return e(e.s=87314)}),_N_E=e.O()}]);